<table mat-table multiTemplateDataRows [dataSource]="tableData()">
  @for (column of columns(); track column.id) {
    <ng-container [matColumnDef]="column.id">
      <th mat-header-cell *matHeaderCellDef [style.width.px]="column.width">{{ column.label }}</th>
      <td
        mat-cell
        *matCellDef="let element"
        [style.width.px]="column.width"
        [style.height.px]="headerHeight()"
      >
        <app-table-cell [column]="column" [item]="element" />
      </td>
    </ng-container>
  }

  @if (rowActions(); as rowActions) {
    <ng-container matColumnDef="table-actions">
      <th mat-header-cell *matHeaderCellDef [style.width.px]="rowActionsCellWidth()">Ações</th>
      <td mat-cell *matCellDef="let element" [style.width.px]="rowActionsCellWidth()">
        <app-table-actions-cell [element]="element" [rowActions]="rowActions" />
      </td>
    </ng-container>
  }

  <!-- Table Header -->
  <tr mat-header-row *matHeaderRowDef="displayedColumns()"></tr>

  <!-- Table Rows -->
  <tr mat-row *matRowDef="let element; columns: displayedColumns()"></tr>

  <tr class="mat-row" *matNoDataRow>
    <td class="mat-cell" colspan="4">
      <div class="empty-state">
        <p>Sem resultados</p>
      </div>
    </td>
  </tr>
</table>
