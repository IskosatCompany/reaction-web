<h1>Nova avaliação</h1>
<mat-stepper [linear]="false" #stepper>
  <mat-step>
    <ng-template matStepLabel>Dados profissionais e físicos</ng-template>
    @if (isMobile()) {
      <h2>Dados profissionais e físicos</h2>
    }
    <app-professional-physical-form
      [model]="model()?.professionalAndPhysicalData"
      (value)="onStepOneChange($event)"
    />
    <button matButton="elevated" matStepperNext>Seguinte</button>
  </mat-step>
  <mat-step>
    <ng-template matStepLabel>Histórico Clínico</ng-template>
    @if (isMobile()) {
      <h2>Histórico Clínico</h2>
    }
    <app-clinical-history-form
      [model]="model()?.clinicalHistory"
      (value)="onStepTwoChange($event)"
    />
    <div class="stepper-nav">
      <button matButton="elevated" matStepperPrevious>Voltar</button>
      <button matButton="elevated" matStepperNext>Seguinte</button>
    </div>
  </mat-step>
  <mat-step>
    <ng-template matStepLabel>Queixas Principais</ng-template>
    @if (isMobile()) {
      <h2>Queixas Principais</h2>
    }
    <app-main-complaints-form
      [model]="model()?.mainComplaints"
      (value)="onStepThreeChange($event)"
    />
    <div class="stepper-nav">
      <button matButton="elevated" matStepperPrevious>Voltar</button>
      <button matButton="elevated" matStepperNext>Seguinte</button>
    </div>
  </mat-step>
  <mat-step>
    <ng-template matStepLabel>Rotina e bem estar</ng-template>
    @if (isMobile()) {
      <h2>Rotina e bem estar</h2>
    }
    <app-well-being-form
      [model]="model()?.routineAndWellBeing"
      (value)="onStepFourChange($event)"
    />
    <div class="stepper-nav">
      <button matButton="elevated" matStepperPrevious>Voltar</button>
      <button matButton="elevated" matStepperNext>Seguinte</button>
    </div>
  </mat-step>
  <mat-step>
    <ng-template matStepLabel>Avaliação Clínica</ng-template>
    @if (isMobile()) {
      <h2>Avaliação Clínica</h2>
    }
    <app-clinical-evaluation-form
      [model]="model()?.clinicalEvaluation"
      (value)="onClinicalEvaluationChange($event)"
    />
    <div class="stepper-nav">
      <button matButton="elevated" matStepperPrevious>Voltar</button>
      <button matButton="elevated" matStepperNext>Seguinte</button>
    </div>
  </mat-step>
  <mat-step>
    <ng-template matStepLabel>Diagnóstico e tratamento</ng-template>
    @if (isMobile()) {
      <h2>Diagnóstico e tratamento</h2>
    }
    <app-diagnosis-treatment-form
      [model]="model()?.diagnosisAndTreatment"
      (value)="onStepFiveChange($event)"
    />
    <div class="stepper-nav">
      <button matButton="elevated" matStepperPrevious>Voltar</button>
      <button matButton="elevated" matStepperNext>Seguinte</button>
    </div>
  </mat-step>
  <mat-step>
    <ng-template matStepLabel>Conclusão</ng-template>
    @if (isMobile()) {
      <h2>Conclusão</h2>
    }
    <app-general-info-form
      [model]="generalInfo()"
      [coaches]="coaches()"
      (value)="onStepSevenChange($event)"
      (isValid)="isValid.set($event)"
    />
    <div class="stepper-nav">
      <button matButton="elevated" matStepperPrevious>Voltar</button>
      <button matButton="filled" [disabled]="!isValid()" (click)="onSubmit()">Submeter</button>
    </div>
  </mat-step>
</mat-stepper>
