<header>
  <button mat-button routerLink="../">
    <mat-icon>arrow_left_alt</mat-icon>
    Cliente
  </button>
  <h1>Nova avaliação</h1>
</header>
<mat-stepper [orientation]="isMobile() ? 'vertical' : 'horizontal'" [linear]="false" #stepper>
  <mat-step>
    <ng-template matStepLabel>
      <span class="step-label"> Dados profissionais e físicos </span>
    </ng-template>

    <app-professional-physical-form
      [model]="model()?.professionalAndPhysicalData"
      (value)="onProfessionalPhysicalFormChange($event)"
    />

    @if (!isMobile()) {
      <button matButton="elevated" matStepperNext>Seguinte</button>
    }
  </mat-step>
  <mat-step>
    <ng-template matStepLabel>
      <span class="step-label"> Histórico Clínico </span>
    </ng-template>

    <app-clinical-history-form
      [model]="model()?.clinicalHistory"
      (value)="onClinicalHistoryFormChange($event)"
    />

    @if (!isMobile()) {
      <div class="stepper-nav">
        <button matButton="elevated" matStepperPrevious>Voltar</button>
        <button matButton="elevated" matStepperNext>Seguinte</button>
      </div>
    }
  </mat-step>
  <mat-step>
    <ng-template matStepLabel>
      <span class="step-label"> Rotina e bem estar </span>
    </ng-template>

    <app-well-being-form
      [model]="model()?.routineAndWellBeing"
      (value)="onWellBeingFormChange($event)"
    />

    @if (!isMobile()) {
      <div class="stepper-nav">
        <button matButton="elevated" matStepperPrevious>Voltar</button>
        <button matButton="elevated" matStepperNext>Seguinte</button>
      </div>
    }
  </mat-step>
  <mat-step>
    <ng-template matStepLabel>
      <span class="step-label"> Queixas Principais </span>
    </ng-template>

    <app-main-complaints-form
      [model]="model()?.mainComplaints"
      (value)="onMainComplaintsFormChange($event)"
    />

    @if (!isMobile()) {
      <div class="stepper-nav">
        <button matButton="elevated" matStepperPrevious>Voltar</button>
        <button matButton="elevated" matStepperNext>Seguinte</button>
      </div>
    }
  </mat-step>
  <mat-step>
    <ng-template matStepLabel>
      <span class="step-label"> Avaliação Física </span>
    </ng-template>

    <app-clinical-evaluation-form
      [model]="model()?.clinicalEvaluation"
      (value)="onClinicalEvaluationFormChange($event)"
    />

    @if (!isMobile()) {
      <div class="stepper-nav">
        <button matButton="elevated" matStepperPrevious>Voltar</button>
        <button matButton="elevated" matStepperNext>Seguinte</button>
      </div>
    }
  </mat-step>
  <mat-step>
    <ng-template matStepLabel>
      <span class="step-label"> Testes Físicos </span>
    </ng-template>

    <app-physical-tests-form
      [model]="model()?.physicalTests"
      (value)="onPhysicalTestsFormChange($event)"
    />

    @if (!isMobile()) {
      <div class="stepper-nav">
        <button matButton="elevated" matStepperPrevious>Voltar</button>
        <button matButton="elevated" matStepperNext>Seguinte</button>
      </div>
    }
  </mat-step>
  <mat-step>
    <ng-template matStepLabel>
      <span class="step-label"> Diagnóstico e tratamento </span>
    </ng-template>

    <app-diagnosis-treatment-form
      [model]="model()?.diagnosisAndTreatment"
      (value)="onDiagnosisTreatmentFormChange($event)"
    />

    @if (!isMobile()) {
      <div class="stepper-nav">
        <button matButton="elevated" matStepperPrevious>Voltar</button>
        <button matButton="elevated" matStepperNext>Seguinte</button>
      </div>
    }
  </mat-step>
  <mat-step>
    <ng-template matStepLabel>
      <span class="step-label"> Conclusão </span>
    </ng-template>
    <app-general-info-form
      [model]="generalInfo()"
      [coaches]="coaches()"
      (value)="onGeneralInfoFormChange($event)"
      (isValid)="isValid.set($event)"
    />
    <div class="stepper-nav">
      <button matButton="elevated" matStepperPrevious>Voltar</button>
      <button matButton="filled" [disabled]="!isValid()" (click)="onSubmit()">Submeter</button>
    </div>
  </mat-step>
</mat-stepper>
