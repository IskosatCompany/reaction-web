<h1>{{ title }}</h1>
<form [formGroup]="form" (ngSubmit)="onSubmit()">
  <mat-form-field appearance="outline">
    <mat-label>Nome</mat-label>
    <input matInput id="name" type="text" formControlName="name" />
    @if (form.get('name')?.invalid && form.get('name')?.touched) {
      <mat-error>Nome é obrigatório!</mat-error>
    }
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Email</mat-label>
    <input matInput id="email" type="email" formControlName="email" />
    @if (form.get('email')?.errors?.['email'] && form.get('email')?.touched) {
      <mat-error>Introduza um email válido.</mat-error>
    }
    @if (form.get('email')?.hasError('required')) {
      <mat-error> Campo obrigatório! </mat-error>
    }
  </mat-form-field>

  <mat-form-field appearance="outline">
    <mat-label>Número de telemóvel</mat-label>
    <input matInput id="phoneNumber" type="tel" formControlName="phoneNumber" />
  </mat-form-field>
  <mat-form-field appearance="outline">
    <mat-label>NIF</mat-label>
    <input matInput formControlName="nif" />
  </mat-form-field>
  <mat-form-field appearance="outline">
    <mat-label>Nº da cédula profissional</mat-label>
    <input matInput formControlName="professionalCardNumber" />
  </mat-form-field>
  <mat-form-field appearance="outline">
    <mat-label>Seguro de acidentes de trabalho</mat-label>
    <input matInput formControlName="civilInsurance" />
  </mat-form-field>
  <mat-form-field appearance="outline">
    <mat-label>Seguro de acidentes de trabalho</mat-label>
    <input matInput formControlName="workInsurance" />
  </mat-form-field>
  <mat-form-field appearance="outline">
    <mat-label>Morada</mat-label>
    <input matInput type="text" formControlName="address" />
  </mat-form-field>
  <mat-form-field appearance="outline">
    <mat-label>Especialidade</mat-label>
    <mat-select formControlName="expertise">
      @for (expertise of data.expertiseOptions | async; track expertise) {
        <mat-option [value]="expertise">{{ expertise }}</mat-option>
      }
    </mat-select>
    @if (form.get('expertise')?.invalid && form.get('expertise')?.touched) {
      <mat-error>Especialidade é obrigatória!</mat-error>
    }
  </mat-form-field>
  <mat-form-field appearance="outline">
    <mat-label>Cor</mat-label>
    <input matInput type="color" formControlName="color" />
  </mat-form-field>
  <div class="actions">
    <button matButton="tonal" (click)="onCancel()">Cancelar</button>
    <button matButton="filled" type="submit" [disabled]="form.invalid">{{ confirmBtnText }}</button>
  </div>
</form>
